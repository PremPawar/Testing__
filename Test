import React, { useState } from 'react';

const DynamicForm = () => {
  const [rows, setRows] = useState([{ values: ['', '', '', ''] }]);

  const optionsBasedOnValue = {
    'Option 1': ['Option 1.1', 'Option 1.2', 'Option 1.3'],
    'Option 2': ['Option 2.1', 'Option 2.2', 'Option 2.3'],
    // Define more options here...
  };

  const handleRowChange = (rowIndex, columnIndex, value) => {
    const updatedRows = [...rows];
    updatedRows[rowIndex].values[columnIndex] = value;

    if (rowIndex === updatedRows.length - 1) {
      updatedRows.push({ values: ['', '', '', ''] });
    }

    setRows(updatedRows);
  };

  return (
    <div>
      {rows.map((row, rowIndex) => (
        <div key={rowIndex} className="flex space-x-4">
          {row.values.map((value, columnIndex) => (
            <select
              key={columnIndex}
              value={value}
              onChange={(e) => handleRowChange(rowIndex, columnIndex, e.target.value)}
              className="border p-2"
            >
              <option value="">Select an option</option>
              <option value="Option 1">Option 1</option>
              <option value="Option 2">Option 2</option>
            </select>
          ))}
        </div>
      ))}
      <button onClick={() => setRows([...rows, { values: ['', '', '', ''] }])}>Add Row</button>
    </div>
  );
};

export default DynamicForm;
