import React, { useState } from 'react';
import { BrowserRouter as Router, Route, Link, Switch } from 'react-router-dom';
import './App.css'; // Import your Tailwind CSS styles

const App = () => {
  return (
    <Router>
      <div className="flex flex-col min-h-screen">
        {/* Top Navbar */}
        <nav className="bg-gray-800 p-4 text-white">
          <div className="flex justify-between items-center">
            <div className="font-bold text-xl">Logo</div>
            <div className="flex space-x-4">
              <NavLinkWithDefault to="/tab1" defaultPath="/option1">
                Tab 1
              </NavLinkWithDefault>
              <NavLinkWithDefault to="/tab2" defaultPath="/optionA">
                Tab 2
              </NavLinkWithDefault>
            </div>
          </div>
        </nav>

        {/* Content */}
        <Switch>
          <Route path="/tab1" component={Tab1} />
          <Route path="/tab2" component={Tab2} />
          <Route path="/" component={Tab1} /> {/* Default route */}
        </Switch>
      </div>
    </Router>
  );
};

const NavLinkWithDefault = ({ to, defaultPath, children }) => {
  return (
    <Route
      path={to}
      children={({ match }) => (
        <Link
          to={to}
          className={`px-4 py-2 rounded ${
            match ? 'bg-teal-700 text-white' : 'text-teal-500'
          }`}
        >
          {children}
        </Link>
      )}
    />
  );
};

const Tab1 = () => {
  return (
    <div className="bg-gray-100 p-4 text-center">
      <div className="flex space-x-4 justify-center">
        <OptionButtonWithDefault to="/option1">Option 1</OptionButtonWithDefault>
        <OptionButtonWithDefault to="/option2">Option 2</OptionButtonWithDefault>
        <OptionButtonWithDefault to="/option3">Option 3</OptionButtonWithDefault>
      </div>
    </div>
  );
};

const Tab2 = () => {
  return (
    <div className="bg-gray-100 p-4 text-center">
      <div className="flex space-x-4 justify-center">
        <OptionButtonWithDefault to="/optionA">Option A</OptionButtonWithDefault>
        <OptionButtonWithDefault to="/optionB">Option B</OptionButtonWithDefault>
        <OptionButtonWithDefault to="/optionC">Option C</OptionButtonWithDefault>
      </div>
    </div>
  );
};

const OptionButtonWithDefault = ({ to, children }) => {
  return (
    <Route
      path={to}
      children={({ match }) => (
        <Link
          to={to}
          className={`px-4 py-2 bg-white rounded border border-gray-300 ${
            match ? 'bg-teal-500 text-white' : ''
          }`}
        >
          {children}
        </Link>
      )}
    />
  );
};

export default App;
